<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #0a0a2a;
            cursor: none;
        }
        
        #moon {
            position: fixed;
            font-size: 200px;
            pointer-events: none;
            transition: transform 0.1s ease;
            z-index: 1000;
        }
        
        .star {
            position: fixed;
            font-size: 24px;
            animation: twinkle 1.5s infinite;
        }

        .uranus {
            position: fixed;
            font-size: 100px; /* å¤©ç‹æ˜Ÿå¤§å° */
            animation: rotate 20s linear infinite;
        }
        
        .shooting-star {
            position: fixed;
            width: 200px;
            height: 8px;
            background: linear-gradient(90deg, 
                rgba(255,255,255,1) 0%, 
                rgba(255,255,255,0.8) 50%, 
                rgba(255,255,255,0) 100%);
            box-shadow: 
                0 0 20px #fff,
                0 0 40px #fff,
                0 0 60px #fff;
            z-index: 150;
        }

        @keyframes twinkle {
            0% { opacity: 0.2; }
            50% { opacity: 1; }
            100% { opacity: 0.2; }
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes shoot {
            0% {
                transform: translateX(0) translateY(0) rotate(45deg);
                opacity: 1;
            }
            100% {
                transform: translateX(2000px) translateY(2000px) rotate(45deg);
                opacity: 0;
            }
        }

        .firework-particle {
            position: fixed;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 160;
            filter: blur(2px);
        }

        #earth-container {
            position: fixed;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            z-index: 100;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #earth {
            font-size: 300px;
            line-height: 1;
        }

        #kangaroo {
            position: absolute;
            font-size: 40px;     /* èª¿æ•´è¢‹é¼ å¤§å° */
            top: 25%;            /* èª¿æ•´è¢‹é¼ ä½ç½® */
            z-index: 101;
            transform: scaleX(-1);  /* é è¨­é¢å‘å·¦é‚Š */
            animation: kangarooHop 1s infinite ease-in-out;
        }

        @keyframes kangarooHop {
            0%, 100% { 
                transform: scaleX(-1) translateY(0); 
            }
            50% { 
                transform: scaleX(-1) translateY(-10px);  /* è·³èºé«˜åº¦ */
            }
        }

        /* æ·»åŠ é©šåš‡å‹•ç•« */
        @keyframes kangarooScare {
            0% { transform: scaleX(-1) translateY(0); }
            25% { transform: scaleX(-1) translateY(-15px) rotate(-10deg); }
            50% { transform: scaleX(-1) translateY(-10px) rotate(10deg); }
            75% { transform: scaleX(-1) translateY(-5px) rotate(-5deg); }
            100% { transform: scaleX(-1) translateY(0); }
        }

        .smoke {
            position: fixed;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            filter: blur(8px);
            z-index: 155;
        }
    </style>
</head>
<body>
    <div id="earth-container">
        <div id="earth">ğŸŒ</div>
        <div id="kangaroo">ğŸ¦˜</div>
    </div>
    <div id="moon">ğŸŒ‘</div>
    <div class="uranus">â›¢</div>

    <script>
        const earthContainer = document.getElementById('earth-container');
        const earth = document.getElementById('earth');
        const kangaroo = document.getElementById('kangaroo');
        const moon = document.getElementById('moon');
        const earthEmojis = ['ğŸŒ', 'ğŸŒ', 'ğŸŒ'];
        const moonPhases = ['ğŸŒ‘', 'ğŸŒ’', 'ğŸŒ“', 'ğŸŒ”', 'ğŸŒ•', 'ğŸŒ–', 'ğŸŒ—', 'ğŸŒ˜'];
        let currentEarthPhase = 0;
        let currentMoonPhase = 0;
        let lastMouseX = 0;
        let kangarooDirection = -1; // -1 å·¦é‚Š, 1 å³é‚Š
        
        // åœ°çƒåŠ¨ç”»
        setInterval(() => {
            currentEarthPhase = (currentEarthPhase + 1) % earthEmojis.length;
            earth.textContent = earthEmojis[currentEarthPhase];
        }, 500);

        // æœˆçƒåŠ¨ç”»
        setInterval(() => {
            currentMoonPhase = (currentMoonPhase + 1) % moonPhases.length;
            moon.textContent = moonPhases[currentMoonPhase];
        }, 200);

        // æœˆçƒè·Ÿéšé¼ æ ‡ç§»åŠ¨å¹¶è°ƒæ•´å±‚çº§
        document.addEventListener('mousemove', (e) => {
            const mouseX = e.clientX;
            const mouseY = e.clientY;
            
            // è®¡ç®—æœˆçƒä½ç½®
            moon.style.left = (mouseX - 100) + 'px';
            moon.style.top = (mouseY - 100) + 'px';
            
            // åˆ¤æ–­ç§»åŠ¨æ–¹å‘å¹¶è°ƒæ•´z-index
            if (mouseX > lastMouseX) {
                // å‘å³ç§»åŠ¨ï¼Œæœˆçƒåœ¨åœ°çƒä¸‹é¢
                moon.style.zIndex = "90";
            } else if (mouseX < lastMouseX) {
                // å‘å·¦ç§»åŠ¨ï¼Œæœˆçƒåœ¨åœ°çƒä¸Šé¢
                moon.style.zIndex = "110";
            }
            
            lastMouseX = mouseX;
            
            // æ£€æŸ¥ä¸æµæ˜Ÿçš„ç¢°æ’
            document.querySelectorAll('.shooting-star').forEach(star => {
                if (checkCollision(moon, star)) {
                    const rect = star.getBoundingClientRect();
                    const position = {
                        left: rect.left + rect.width / 2,
                        top: rect.top + rect.height / 2
                    };
                    createFirework(position);
                    star.remove();
                }
            });
        });

        // æ·»åŠ é¼ æ ‡ç§»åŠ¨é€Ÿåº¦æ£€æµ‹æ¥è°ƒæ•´æœˆç›¸å˜åŒ–
        let lastTime = Date.now();
        let moveSpeed = 0;
        
        document.addEventListener('mousemove', (e) => {
            const currentTime = Date.now();
            const deltaTime = currentTime - lastTime;
            const deltaX = e.clientX - lastMouseX;
            
            // è®¡ç®—ç§»åŠ¨é€Ÿåº¦
            moveSpeed = Math.abs(deltaX / deltaTime);
            
            // æ ¹æ®ç§»åŠ¨é€Ÿåº¦è°ƒæ•´æœˆç›¸å˜åŒ–é€Ÿåº¦
            const baseInterval = 200; // åŸºç¡€å˜åŒ–é—´éš”
            const newInterval = Math.max(50, baseInterval - (moveSpeed * 100));
            
            // æ¸…é™¤æ—§çš„intervalå¹¶è®¾ç½®æ–°çš„
            clearInterval(moonPhaseInterval);
            moonPhaseInterval = setInterval(() => {
                currentMoonPhase = (currentMoonPhase + 1) % moonPhases.length;
                moon.textContent = moonPhases[currentMoonPhase];
            }, newInterval);
            
            lastTime = currentTime;
            lastMouseX = e.clientX;
        });

        // åˆå§‹åŒ–æœˆç›¸å˜åŒ–interval
        let moonPhaseInterval = setInterval(() => {
            currentMoonPhase = (currentMoonPhase + 1) % moonPhases.length;
            moon.textContent = moonPhases[currentMoonPhase];
        }, 200);

        // å‰µå»ºå½©è‰²æ˜Ÿæ˜Ÿ
        function createStar() {
            const colors = [
                '#fff', '#ffd700', '#87ceeb', 
                '#ff69b4', '#7fffd4', '#dda0dd'
            ];
            const star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * window.innerWidth + 'px';
            star.style.top = Math.random() * window.innerHeight + 'px';
            star.textContent = 'â˜…';
            star.style.color = colors[Math.floor(Math.random() * colors.length)];
            star.style.animationDelay = Math.random() * 2 + 's';
            document.body.appendChild(star);
        }

        // å‰µå»ºå½©è‰²æµæ˜Ÿ
        function createShootingStar() {
            const colors = ['#ff0', '#f62', '#f24', '#24f', '#2ff', '#ff69b4', '#7fffd4'];
            const star = document.createElement('div');
            star.className = 'shooting-star';
            
            // éš¨æ©Ÿé¸æ“‡é¡è‰²
            const color = colors[Math.floor(Math.random() * colors.length)];
            star.style.background = `linear-gradient(90deg, 
                ${color} 0%, 
                ${color}80 50%, 
                ${color}00 100%)`;
            star.style.boxShadow = `
                0 0 20px ${color},
                0 0 40px ${color}`;

            // ç²å–åœ°çƒä½ç½®
            const earthRect = earth.getBoundingClientRect();
            const earthCenter = {
                x: earthRect.left + earthRect.width / 2,
                y: earthRect.top + earthRect.height / 2
            };

            // å¾å››å‘¨éš¨æ©Ÿä½ç½®ç”Ÿæˆ
            let startX, startY;
            const side = Math.floor(Math.random() * 4);
            switch(side) {
                case 0: // ä¸Š
                    startX = Math.random() * window.innerWidth;
                    startY = -100;
                    break;
                case 1: // å³
                    startX = window.innerWidth + 100;
                    startY = Math.random() * window.innerHeight;
                    break;
                case 2: // ä¸‹
                    startX = Math.random() * window.innerWidth;
                    startY = window.innerHeight + 100;
                    break;
                case 3: // å·¦
                    startX = -100;
                    startY = Math.random() * window.innerHeight;
                    break;
            }

            star.style.left = startX + 'px';
            star.style.top = startY + 'px';

            // è¨ˆç®—è§’åº¦æŒ‡å‘åœ°çƒä¸­å¿ƒ
            const angle = Math.atan2(earthCenter.y - startY, earthCenter.x - startX);
            star.style.transform = `rotate(${angle}rad)`;

            document.body.appendChild(star);

            // è¨ˆç®—åˆ°åœ°çƒä¸­å¿ƒçš„è·é›¢
            const distance = Math.sqrt(
                Math.pow(earthCenter.x - startX, 2) + 
                Math.pow(earthCenter.y - startY, 2)
            );

            // è¨­å®šå‹•ç•«æ™‚é–“åŸºæ–¼è·é›¢
            const duration = distance * 2; // é€Ÿåº¦èª¿æ•´ä¿‚æ•¸

            const animation = star.animate([
                { left: startX + 'px', top: startY + 'px' },
                { left: earthCenter.x + 'px', top: earthCenter.y + 'px' }
            ], {
                duration: duration,
                easing: 'linear'
            });

            // æŒçºŒæª¢æŸ¥èˆ‡åœ°çƒçš„è·é›¢
            const checkCollision = setInterval(() => {
                const starRect = star.getBoundingClientRect();
                const starCenter = {
                    x: starRect.left + starRect.width / 2,
                    y: starRect.top + starRect.height / 2
                };

                // è¨ˆç®—èˆ‡åœ°çƒä¸­å¿ƒçš„è·é›¢
                const currentDistance = Math.sqrt(
                    Math.pow(earthCenter.x - starCenter.x, 2) + 
                    Math.pow(earthCenter.y - starCenter.y, 2)
                );

                // å¦‚æœè·é›¢å°æ–¼åœ°çƒåŠå¾‘ï¼Œè§¸ç™¼çˆ†ç‚¸
                if (currentDistance < earthRect.width / 2) {
                    clearInterval(checkCollision);
                    animation.cancel(); // ç«‹å³åœæ­¢æµæ˜Ÿå‹•ç•«
                    createExplosion({x: starCenter.x, y: starCenter.y}, color);
                    star.remove();
                }
            }, 10); // æ›´é »ç¹çš„æª¢æŸ¥

            animation.onfinish = () => {
                clearInterval(checkCollision);
                star.remove();
            };
        }

        // å‰µå»ºå½©è‰²çˆ†ç‚¸æ•ˆæœ
        function createExplosion(position, baseColor) {
            kangarooReact();
            // å‰µå»ºç…™èŠ±ç²’å­
            for (let i = 0; i < 80; i++) {
                const particle = document.createElement('div');
                particle.className = 'firework-particle';
                
                const color = baseColor;
                particle.style.backgroundColor = color;
                particle.style.boxShadow = `0 0 ${5 + Math.random() * 10}px ${color}`;
                
                particle.style.left = position.x + 'px';
                particle.style.top = position.y + 'px';
                
                const angle = Math.random() * Math.PI * 2;
                const velocity = 8 + Math.random() * 12;
                const vx = Math.cos(angle) * velocity;
                const vy = Math.sin(angle) * velocity;
                
                document.body.appendChild(particle);
                
                particle.animate([
                    { 
                        transform: 'translate(0, 0) scale(1.5)',
                        opacity: 1 
                    },
                    { 
                        transform: `translate(${vx * 30}px, ${vy * 30}px) scale(0.8)`,
                        opacity: 0.7 
                    },
                    { 
                        transform: `translate(${vx * 40}px, ${vy * 40 + 60}px) scale(0)`,
                        opacity: 0 
                    }
                ], {
                    duration: 2000,
                    easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
                }).onfinish = () => particle.remove();
            }

            // å‰µå»ºç…™éœ§æ•ˆæœ
            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    const smoke = document.createElement('div');
                    smoke.className = 'smoke';
                    const size = 30 + Math.random() * 50;
                    smoke.style.width = size + 'px';
                    smoke.style.height = size + 'px';
                    smoke.style.left = (position.x - size/2) + 'px';
                    smoke.style.top = (position.y - size/2) + 'px';
                    
                    document.body.appendChild(smoke);
                    
                    smoke.animate([
                        { 
                            transform: 'scale(1)',
                            opacity: 0.3 
                        },
                        { 
                            transform: 'scale(2)',
                            opacity: 0 
                        }
                    ], {
                        duration: 1500,
                        easing: 'ease-out'
                    }).onfinish = () => smoke.remove();
                }, i * 80);
            }
        }

        // åˆå§‹åŒ–æ˜Ÿæ˜Ÿ
        for(let i = 0; i < 50; i++) {
            createStar();
        }

        // æ¯1.5ç§’ç”Ÿæˆä¸€å€‹æ–°æµæ˜Ÿ
        setInterval(createShootingStar, 1500);

        // è¢‹é¼ éš¨æ©Ÿæ”¹è®Šæ–¹å‘
        setInterval(() => {
            if (Math.random() > 0.7) {  // 30%æ©Ÿç‡æ”¹è®Šæ–¹å‘
                kangarooDirection *= -1;
                kangaroo.style.transform = `scaleX(${kangarooDirection})`;
            }
        }, 2000);

        // ç•¶æµæ˜Ÿæ’æ“Šæ™‚ï¼Œè¢‹é¼ åæ‡‰
        function kangarooReact() {
            kangaroo.style.animation = 'kangarooScare 0.8s ease-in-out';
            
            // éš¨æ©Ÿæ±ºå®šæ˜¯å¦è½‰å‘é€ƒè·‘
            if (Math.random() > 0.5) {
                kangarooDirection *= -1;
                setTimeout(() => {
                    kangaroo.style.transform = `scaleX(${kangarooDirection})`;
                }, 100);
            }
            
            // å‹•ç•«çµæŸå¾Œæ¢å¾©è·³èº
            setTimeout(() => {
                kangaroo.style.animation = 'kangarooHop 1s infinite ease-in-out';
            }, 800);
        }
    </script>
</body>
</html>
